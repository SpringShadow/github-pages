# 图片预加载

## 什么是图片预加载？

图片预加载，简单来讲是将需要用到的一些图片提前进行加载，当真正使用的时候直接从缓存中获取，因此没有了加载等待或者图片显示不出来的问题。

## 为什么要图片预加载？

在一些以图片为主的网站，特别是一些动画较多的H5网站。这些网站有着大量的图片资源，同时对动画的流畅性要求较高，如果用户的网络较慢，就会出现图片没有显示完全，动画就已经在播放的情况了，因此图片资源必须做到提前预加载，这样才能保证动画的流畅性和完整性

## 如何做到图片预加载？

图片预加载的基本思路就是动态的创建Image对象，然后将我们要加载的图片链接赋值给Image对象的src属性，再监听其onload事件，也就是图片加载完成事件。代码如下
```
let img=new Image();
img.onload=()=>{
  console.log('图片加载完成');
}
img.src="../images/example0.png";

```

如上，简单的一张图片的加载就完成了，但是当网站上有大量的图片资源需要加载的时候，显然就不太方便了。这时我们需要将图片按照队列的方式来加载，也就是一张一张的加载，加载完成我们就标记一下，直到全部加载完成。

代码如下

```
let imgArr=[
    "../images/example0.png",
    "../images/example1.png",
    "../images/example2.png",
    "../images/example3.png",
    "../images/example4.png",
    "../images/example5.png",
];

img.onload=()=>{
  console.log('图片加载完成');
}
img.src="../images/example0.png";

```
